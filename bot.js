const _0x17b261=_0x1c47;function _0x1c47(_0x5bd35a,_0x166ab6){const _0x544479=_0x5444();return _0x1c47=function(_0x1c4703,_0x4172f7){_0x1c4703=_0x1c4703-0x196;let _0x56e634=_0x544479[_0x1c4703];return _0x56e634;},_0x1c47(_0x5bd35a,_0x166ab6);}(function(_0xe351f7,_0x5a2209){const _0x5d168a=_0x1c47,_0xa2bf69=_0xe351f7();while(!![]){try{const _0x5d400b=-parseInt(_0x5d168a(0x262))/0x1+parseInt(_0x5d168a(0x19e))/0x2+-parseInt(_0x5d168a(0x272))/0x3+parseInt(_0x5d168a(0x2cf))/0x4*(parseInt(_0x5d168a(0x27a))/0x5)+-parseInt(_0x5d168a(0x1f5))/0x6+parseInt(_0x5d168a(0x1f0))/0x7+parseInt(_0x5d168a(0x206))/0x8*(parseInt(_0x5d168a(0x28b))/0x9);if(_0x5d400b===_0x5a2209)break;else _0xa2bf69['push'](_0xa2bf69['shift']());}catch(_0x328767){_0xa2bf69['push'](_0xa2bf69['shift']());}}}(_0x5444,0x53ae1));const {Client,GatewayIntentBits,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,StringSelectMenuBuilder}=require(_0x17b261(0x29e)),{SlashCommandBuilder}=require('@discordjs/builders'),sqlite=require(_0x17b261(0x1d7)),path=require('path'),crypto=require(_0x17b261(0x317)),{ComponentType}=require(_0x17b261(0x29e)),{MessageFlags}=require(_0x17b261(0x29e)),{ModalBuilder,TextInputBuilder,TextInputStyle}=require(_0x17b261(0x29e)),config=require('./config.js'),db=sqlite(path[_0x17b261(0x2ec)](process[_0x17b261(0x279)](),config[_0x17b261(0x2cb)][_0x17b261(0x1c9)]));function _0x5444(){const _0x1c2cb3=['Stand:\x20','deleted','‚úÖ\x20Coupon\x20aktiviert!','Produkt\x20entfernen','Administrator','setMaxLength','options','2871344dymuFh','LEADERBOARD_THUMB','Benutzer','GuildMembers','floor','118998bCTsjG','‚ö†Ô∏è\x20Bitte\x20shop-Befehl\x20neu\x20ausf√ºhren!','getTextInputValue','‚úÖ\x20Coins\x20hinzugef√ºgt','‚ùå\x20Nur\x20f√ºr\x20K√§ufer!','Ephemeral','Coin-Menge','code','üéâ\x20**','setLabel','Liefertyp','GIVEAWAY_CHANNEL','max','discount_percent','...','üéâ\x20GIVEAWAY\x20BEENDET\x20üéâ','‚ùå\x20Ein\x20kritischer\x20Fehler\x20ist\x20aufgetreten!','8IJLtqo','avg_rating','paysafeModal_','cache','Abbrechen','%\x20Rabatt\x20angewendet!**','createcoupon','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20product_ratings\x20(\x0a\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20product_id\x20INTEGER,\x0a\x20\x20\x20\x20rating\x20INTEGER\x20CHECK(rating\x20BETWEEN\x201\x20AND\x205),\x0a\x20\x20\x20\x20review\x20TEXT,\x0a\x20\x20\x20\x20timestamp\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20PRIMARY\x20KEY\x20(user_id,\x20product_id)\x0a\x20\x20)','displayAvatarURL','Dein\x20Rang','Zahle\x20mit\x20Paysafecard','setFooter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20user_coupons\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SET\x20used\x20=\x201\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x20AND\x20coupon_code\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20','üîê\x20Globales\x20Leaderboard\x20erfordert\x20Admin-Rechte!','Zahlungs-Logs\x20werden\x20jetzt\x20in\x20','setMaxValue','Dauer\x20in\x20Minuten','setMinLength','uses','Die\x20Lieferung\x20erfolgt\x20ausschlie√ülich\x20per\x20DM','participants','Wunschliste\x20verwalten','login','G√ºltigkeit\x20in\x20Stunden','\x20-\x20Kaufbest√§tigung','PRODUCT_NOT_DELETED','UPDATE\x20pending_payments\x20SET\x20status\x20=\x20?\x20WHERE\x20payment_id\x20=\x20?','Menge','deny','KEY','addOptions','‚úÖ\x20Produkt\x20#','isStringSelectMenu','üéÆ\x20','GuildMessages','sort','‚ùå\x20Keine\x20Keys\x20verf√ºgbar','üéÆ\x20Game\x20Shop','‚úÖ\x20Produkt\x20entfernt!','Success','SELECT\x20*\x20FROM\x20pending_payments\x20WHERE\x20payment_id\x20=\x20?\x20AND\x20status\x20=\x20\x27pending\x27','Payment-ID','MessageContent','toJSON','ECONOMY','Zeigt\x20die\x20Top\x2010\x20der\x20reichsten\x20User','\x0a\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20file_purchases\x20(\x0a\x20\x20\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20product_id\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20purchase_date\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(user_id,\x20product_id)\x0a\x20\x20\x20\x20)','fetch','Erstellt\x20ein\x20neues\x20Produkt\x20(Admin)','WARNING_COLOR','‚ùå\x20Admin-Berechtigung\x20ben√∂tigt!','run','showModal','addStringOption','DEFAULT_COLOR','SELECT\x20id\x20FROM\x20products\x20WHERE\x20id\x20=\x20?','addIntegerOption','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20products\x20(\x0a\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20name\x20TEXT,\x0a\x20\x20\x20\x20price\x20INTEGER,\x0a\x20\x20\x20\x20description\x20TEXT,\x0a\x20\x20\x20\x20image_url\x20TEXT,\x0a\x20\x20\x20\x20delivery_type\x20TEXT\x20CHECK(delivery_type\x20IN\x20(\x27FILE\x27,\x20\x27KEY\x27)),\x0a\x20\x20\x20\x20delivery_content\x20TEXT\x0a\x20\x20)','slice','coins','setTimestamp','Primary','catch','guildId','Datei','price','\x0a\x20\x20\x20\x20SELECT\x20key\x20FROM\x20product_keys\x20\x0a\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x20AND\x20product_id\x20=\x20?\x20AND\x20used\x20=\x201\x20\x0a\x20\x20\x20\x20ORDER\x20BY\x20ROWID\x20DESC\x20\x0a\x20\x20\x20\x20LIMIT\x201\x0a\x20\x20','components','**Gewinner:**\x20','Anzahl\x20Gewinner','Secondary','getChannel','setCustomId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20key\x20FROM\x20product_keys\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20product_id\x20=\x20?\x20AND\x20used\x20=\x200\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20','memberPermissions','isButton','toLocaleString','addComponents','‚ùå\x20Log-Channel\x20nicht\x20gefunden!','Coupon-Code','edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20product_keys\x20(key,\x20product_id)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20','key','**\x20Coins','padEnd','Bild-URL','paysafeCode','product_id','payment_','Fehler\x20beim\x20L√∂schen:','Zahlung\x20f√ºr\x20','giveaway_','551155XtrBQM','Fehler\x20bei\x20Paysafe-Zahlung:','SELECT\x20coins\x20FROM\x20users\x20WHERE\x20user_id\x20=\x20?','‚úÖ\x20Bot\x20eingeloggt\x20als\x20','‚ùå\x20Unbekannter\x20Fehler','Datei-URL/Key-Pr√§fix','Produktname','commandName','rating','üîí\x20Admin-Berechtigung\x20ben√∂tigt!','Danger','üéâ\x20Neues\x20Produkt\x20erstellt','tag','Rabatt\x20in\x20%','<@&','randomBytes','1915896hIxblv','<t:','hex','fields','balance','FILE','‚ùå\x20Fehler\x20beim\x20Laden\x20des\x20Produkts!','cwd','23115mbvOZZ','DAILY_COINS','üîë\x20Dein\x20Key:\x20||','\x0a\x20\x20\x20\x20\x20\x20UPDATE\x20product_keys\x20\x0a\x20\x20\x20\x20\x20\x20SET\x20used\x20=\x201,\x20user_id\x20=\x20?\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20key\x20=\x20?\x0a\x20\x20\x20\x20','PAYMENT_LOGS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20coupons\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20code\x20=\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20expires_at\x20>\x20CURRENT_TIMESTAMP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20uses\x20<\x20max_uses\x0a\x20\x20\x20\x20\x20\x20','user','paysafe_','deferred','revealKey_','üéÅ\x20Deine\x20Wunschliste','‚ùå\x20Ung√ºltiger\x20Coupon','winners','setEmoji','prepare','getUser','\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20coupons\x20(code,\x20discount_percent,\x20product_ids,\x20expires_at,\x20max_uses)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20\x20\x20','3698091HsqSqk','error','substring','Link','deferReply','wishlist','Jetzt\x20kaufen','setMinValue','customId','\x20hat\x20','de-DE','toUpperCase','startsWith','payment_approve_',':R>','Key\x20anzeigen','‚ùå\x20Ung√ºltige\x20Produktauswahl!','split','‚ùå\x20Product\x20not\x20found!','discord.js','amount','values','‚úÖ\x20Zahlung\x20eingereicht!\x20Ein\x20Admin\x20wird\x20diese\x20bald\x20√ºberpr√ºfen.','wishlist_','send','‚úÖ\x20Produkt\x20hinzugef√ºgt!','Code','getString','products','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20users\x20SET\x20coins\x20=\x20coins\x20+\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20','show','isTextBased','filter','channels','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20coupons\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20code\x20=\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AND\x20(expires_at\x20>\x20CURRENT_TIMESTAMP)\x0a\x20\x20\x20\x20\x20\x20\x20\x20AND\x20(uses\x20<\x20max_uses)\x0a\x20\x20\x20\x20','\x20Coins\x20mehr.','‚úÖ\x20Produkt\x20zur\x20Wunschliste\x20hinzugef√ºgt','UPDATE\x20coupons\x20SET\x20uses\x20=\x20uses\x20+\x201\x20WHERE\x20code\x20=\x20?','application','global','\x0a\x20\x20\x20\x20\x20\x20SELECT\x201\x20FROM\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20product_id,\x20user_id\x20FROM\x20product_keys\x20WHERE\x20used\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20UNION\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20product_id,\x20user_id\x20FROM\x20file_purchases\x0a\x20\x20\x20\x20\x20\x20)\x20WHERE\x20product_id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x0a\x20\x20\x20\x20','Giveaway\x20bereits\x20beendet!','\x20-\x20','Bewertungen','toString','Produkt-ID','changes','Gewinner:\x20','Lieferart','Jetzt\x20downloaden','Zeigt\x20alle\x20verf√ºgbaren\x20Produkte\x20an','Produkt','Channel-ID','Rabattcode\x20einl√∂sen','‚ùå\x20Produkt\x20aus\x20Wunschliste\x20entfernt','L√∂schen','addFields','channel','Du\x20bist\x20bereits\x20dabei!','deferUpdate','CHANNELS','now','Preis','Preis\x20in\x20Coins','DATABASE','KEY_PREFIX','‚ùå\x20Ein\x20Fehler\x20ist\x20beim\x20Speichern\x20aufgetreten!','diff','508JHTknu','Fehler\x20beim\x20Setzen\x20des\x20Payment-Channels:','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20config\x20(\x0a\x20\x20\x20\x20guild_id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20payment_log_channel\x20TEXT\x0a\x20\x20)','\x0a\x20\x20\x20\x20SELECT\x20user_id,\x20coins\x20\x0a\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20ORDER\x20BY\x20coins\x20DESC\x20\x0a\x20\x20\x20\x20LIMIT\x20?\x0a\x20\x20','payment_deny_','‚ùå\x20Payment-System\x20nicht\x20konfiguriert!','setColor','addcoins','**Endet:**\x20<t:','Ablehnen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users\x20(user_id,\x20coins)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20COALESCE((SELECT\x20coins\x20FROM\x20users\x20WHERE\x20user_id\x20=\x20?),\x200)\x20+\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(user_id)\x20DO\x20UPDATE\x20SET\x20coins\x20=\x20excluded.coins\x0a\x20\x20\x20\x20\x20\x20\x20\x20','replied','Setze\x20den\x20Payment-Log\x20Channel\x20(Admin)','‚ùå\x20Bereits\x20abgeholt!','PRODUCT_NOT_FOUND','setTitle','BOT_TOKEN','\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20wishlist\x20(user_id,\x20product_id)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20','addUserOption','SELECT\x20payment_log_channel\x20FROM\x20config\x20WHERE\x20guild_id\x20=\x20?','‚ùå\x20Fehler\x20beim\x20Erstellen\x20des\x20Produkts!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20product_keys\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SET\x20used\x20=\x201,\x20user_id\x20=\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20key\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20','has','\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users\x20(user_id,\x20coins)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20COALESCE((SELECT\x20coins\x20FROM\x20users\x20WHERE\x20user_id\x20=\x20?),\x200)\x20+\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(user_id)\x20DO\x20UPDATE\x20SET\x20coins\x20=\x20excluded.coins\x0a\x20\x20\x20\x20','‚ö†Ô∏è\x20Der\x20Shop\x20ist\x20aktuell\x20leer!','PRAGMA','üí≥\x20**Bezahlter\x20Betrag:**\x20','‚ùå\x20Produkt\x20nicht\x20gefunden!','Best√§tigen','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20config\x20(guild_id,\x20payment_log_channel)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(guild_id)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20payment_log_channel\x20=\x20excluded.payment_log_channel\x0a\x20\x20\x20\x20\x20\x20','Zeige\x20deine\x20Coins\x20an','Ung√ºltige\x20Produkt-ID:','‚ùå\x20Fehler\x20beim\x20√ñffnen\x20des\x20Zahlungsformulars!','map','Paysafecode','review','all','Produktbeschreibung','‚ùå\x20Kein\x20Key\x20gefunden!','F√ºgt\x20Coins\x20hinzu\x20(Admin)','‚ùå\x20Ein\x20Fehler\x20ist\x20bei\x20der\x20Zahlungsverarbeitung\x20aufgetreten!','image_url','üí∞\x20Kontostand\x20von\x20','buy_','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20coupons\x20(\x0a\x20\x20\x20\x20code\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20discount_percent\x20INTEGER,\x0a\x20\x20\x20\x20product_ids\x20TEXT,\x0a\x20\x20\x20\x20expires_at\x20DATETIME,\x0a\x20\x20\x20\x20max_uses\x20INTEGER\x20DEFAULT\x201,\x0a\x20\x20\x20\x20uses\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20)','ROLES','\x20mit\x20','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20key\x20FROM\x20product_keys\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20product_id\x20=\x20?\x20AND\x20used\x20=\x200\x20\x0a\x20\x20\x20\x20\x20\x20LIMIT\x201\x0a\x20\x20\x20\x20','paywithpaysafe','‚ùå\x20Zahlung\x20nicht\x20gefunden\x20oder\x20bereits\x20bearbeitet!','endTime','Key','üéâ\x20NEUES\x20GIVEAWAY\x20üéâ','set','Starte\x20ein\x20Giveaway','length','delete_cancel','üîí\x20Keine\x20Berechtigung!','random','approve','shop','createproduct','Rabatt','setImage','KEYS_EXHAUSTED','Bestellnummer','push','transaction','message','UPDATE\x20product_keys\x20SET\x20used\x20=\x201,\x20user_id\x20=\x20?\x20WHERE\x20key\x20=\x20?','Nicht\x20in\x20der\x20Top\x20100','crypto','setpaymentchannel','‚ùå\x20Ung√ºltiger\x20Paysafecode!\x20Muss\x2016\x20Ziffern\x20enthalten.','remove','ready','Fehler\x20beim\x20Erstellen:','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20coins\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x0a\x20\x20\x20\x20','setRequired','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20p.*,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20AVG(r.rating)\x20as\x20avg_rating,\x0a\x20\x20\x20\x20\x20\x20\x20\x20COUNT(r.rating)\x20as\x20total_ratings\x0a\x20\x20\x20\x20\x20\x20FROM\x20products\x20p\x0a\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20product_ratings\x20r\x20ON\x20p.id\x20=\x20r.product_id\x0a\x20\x20\x20\x20\x20\x20WHERE\x20p.id\x20=\x20?\x0a\x20\x20\x20\x20','üí≥\x20Neue\x20Paysafecard-Zahlung','setName','üéüÔ∏è\x20Neuer\x20Coupon','username','SELECT\x20*\x20FROM\x20products\x20WHERE\x20id\x20=\x20?','Mitmachen','COUPON_LENGTH','setURL','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20product_keys\x20(\x0a\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20product_id\x20INTEGER,\x0a\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20used\x20BOOLEAN\x20DEFAULT\x200,\x0a\x20\x20\x20\x20FOREIGN\x20KEY(product_id)\x20REFERENCES\x20products(id)\x0a\x20\x20)','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20GROUP_CONCAT(code)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20user_coupons\x20uc\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20JOIN\x20coupons\x20c\x20ON\x20uc.coupon_code\x20=\x20c.code\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20uc.user_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20uc.used\x20=\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20(c.product_ids\x20=\x20\x27all\x27\x20OR\x20instr(\x27,\x27||c.product_ids||\x27,\x27,\x20\x27,\x27||products.id||\x27,\x27))\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20as\x20active_coupons\x0a\x20\x20\x20\x20\x20\x20FROM\x20products\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20?\x0a\x20\x20\x20\x20','üîë\x20Digitaler\x20Key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20p.id,\x20p.name\x20FROM\x20wishlist\x20w\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20JOIN\x20products\x20p\x20ON\x20w.product_id\x20=\x20p.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20w.user_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setThumbnail','üìÅ\x20Sofortdownload','\x20wurde\x20erfolgreich\x20gel√∂scht!','Fehler\x20bei\x20Produktauswahl:','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20pending_payments\x20(\x0a\x20\x20\x20\x20payment_id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20product_id\x20INTEGER,\x0a\x20\x20\x20\x20paysafecode\x20TEXT,\x0a\x20\x20\x20\x20amount\x20INTEGER,\x0a\x20\x20\x20\x20status\x20TEXT\x20DEFAULT\x20\x27pending\x27,\x0a\x20\x20\x20\x20timestamp\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP\x0a\x20\x20)','leaderboard','288322UUPUBG','users','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20daily_rewards\x20(user_id,\x20last_claim)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(user_id)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20last_claim\x20=\x20CASE\x20WHEN\x20strftime(\x27%s\x27,\x27now\x27)\x20-\x20strftime(\x27%s\x27,last_claim)\x20>=\x2086400\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20THEN\x20strftime(\x27%s\x27,\x27now\x27)\x20ELSE\x20last_claim\x20END\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20strftime(\x27%s\x27,\x27now\x27)\x20-\x20strftime(\x27%s\x27,last_claim)\x20as\x20diff\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20daily_rewards\x20(\x0a\x20\x20\x20\x20user_id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20last_claim\x20DATETIME\x0a\x20\x20)','update','üéÅ\x20','followUp','Max.\x20Verwendungen','\x20Coins!','payment_log_channel','add','Channel\x20f√ºr\x20Zahlungslogs','interactionCreate','‚úÖ\x20Payment-Channel\x20gesetzt','üìÅ\x20Direktdownload','‚ùå\x20L√∂schvorgang\x20abgebrochen','EMBEDS','giveaway','\x20Coins\x20|\x20','description','\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20user_id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20coins\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20)','DELETE\x20FROM\x20wishlist\x20WHERE\x20product_id\x20=\x20?','Zur\x20Wunschliste','editReply','getInteger','Fehler\x20beim\x20L√∂schvorgang:','duration','In\x20Wunschliste','\x0aJeder\x20erh√§lt\x20','üèÜ\x20','**\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20pending_payments\x20\x0a\x20\x20\x20\x20\x20\x20(payment_id,\x20user_id,\x20product_id,\x20paysafecode,\x20amount)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20\x20\x20','delete_confirm_','Server','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20OR\x20IGNORE\x20INTO\x20wishlist\x20(user_id,\x20product_id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20','discount','guild','G√ºltig\x20f√ºr','Kauffehler:','Anderer\x20Benutzer','name','setStyle','\x20Coins','FILENAME','getSubcommand','‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ','‚ùå\x20Fehler\x20beim\x20L√∂schen\x20des\x20Produkts!','approved','Fehler\x20beim\x20√ñffnen\x20des\x20Modals:','‚ùå\x20Der\x20Channel\x20muss\x20ein\x20Text-Channel\x20sein!','SHOP_BANNER','delivery_type','deleteproduct','reply','Globales\x20Leaderboard\x20anzeigen?\x20(Admin-only)','Defer\x20failed:','delivery_content','better-sqlite3','‚ùå\x20Benutzer\x20nicht\x20gefunden','addSubcommand','get','ID\x20des\x20zu\x20l√∂schenden\x20Produkts','\x20(#','setDescription','Guilds','W√§hle\x20ein\x20Produkt\x20aus...','rateproduct','shop_select','Produkt-ID\x20aus\x20dem\x20Shop','rank','redeem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20users\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20coins\x20=\x20coins\x20-\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20','daily','active_coupons','SELECT\x20key\x20FROM\x20product_keys\x20WHERE\x20product_id\x20=\x20?\x20AND\x20used\x20=\x200\x20LIMIT\x201'];_0x5444=function(){return _0x1c2cb3;};return _0x5444();}db['pragma'](config[_0x17b261(0x2cb)][_0x17b261(0x2e8)]),db['prepare'](_0x17b261(0x1b2))[_0x17b261(0x239)](),db['prepare'](_0x17b261(0x23f))[_0x17b261(0x239)](),db[_0x17b261(0x288)](_0x17b261(0x19c))[_0x17b261(0x239)](),db['prepare'](_0x17b261(0x2d1))['run'](),db['prepare'](_0x17b261(0x328))[_0x17b261(0x239)](),db[_0x17b261(0x288)](_0x17b261(0x2fc))[_0x17b261(0x239)](),db[_0x17b261(0x288)](_0x17b261(0x20d))[_0x17b261(0x239)](),db[_0x17b261(0x288)]('\x0a\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20wishlist\x20(\x0a\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20product_id\x20INTEGER,\x0a\x20\x20\x20\x20PRIMARY\x20KEY\x20(user_id,\x20product_id)\x0a\x20\x20)')[_0x17b261(0x239)](),db[_0x17b261(0x288)](_0x17b261(0x234))[_0x17b261(0x239)](),db[_0x17b261(0x288)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20coupons\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20code\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20discount_percent\x20INTEGER\x20CHECK(discount_percent\x20BETWEEN\x201\x20AND\x20100),\x0a\x20\x20\x20\x20\x20\x20\x20\x20product_ids\x20TEXT\x20DEFAULT\x20\x27all\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expires_at\x20DATETIME,\x0a\x20\x20\x20\x20\x20\x20\x20\x20max_uses\x20INTEGER\x20DEFAULT\x201,\x0a\x20\x20\x20\x20\x20\x20\x20\x20uses\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20)')[_0x17b261(0x239)](),db[_0x17b261(0x288)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_coupons\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20user_id\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coupon_code\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20used\x20BOOLEAN\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(user_id,\x20coupon_code),\x0a\x20\x20\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(coupon_code)\x20REFERENCES\x20coupons(code)\x0a\x20\x20\x20\x20\x20\x20)')[_0x17b261(0x239)]();function generateProductKey(_0x45bcc9=config[_0x17b261(0x232)][_0x17b261(0x2cc)]){const _0x50ef25=_0x17b261,_0x38d4d1=crypto[_0x50ef25(0x271)](0x8)['toString']('hex')[_0x50ef25(0x296)]();return _0x45bcc9+'-'+_0x38d4d1;}function generateCouponCode(){const _0x274245=_0x17b261;return crypto['randomBytes'](config['ECONOMY'][_0x274245(0x326)]/0x2)[_0x274245(0x2b7)](_0x274245(0x274))[_0x274245(0x296)]();}function getLeaderboard(_0x5115c9=0xa){const _0x5a5851=_0x17b261;return db[_0x5a5851(0x288)](_0x5a5851(0x2d2))['all'](_0x5115c9);}const client=new Client({'intents':[GatewayIntentBits[_0x17b261(0x1de)],GatewayIntentBits[_0x17b261(0x1f3)],GatewayIntentBits['DirectMessages'],GatewayIntentBits[_0x17b261(0x228)],GatewayIntentBits[_0x17b261(0x230)]]}),commands=[new SlashCommandBuilder()['setName'](_0x17b261(0x30c))[_0x17b261(0x1dd)](_0x17b261(0x2bd)),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x1e4))[_0x17b261(0x1dd)](_0x17b261(0x2c0))['addStringOption'](_0x5ecc91=>_0x5ecc91[_0x17b261(0x321)]('code')['setDescription'](_0x17b261(0x255))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x1d2))[_0x17b261(0x1dd)]('L√∂scht\x20ein\x20Produkt\x20aus\x20dem\x20Shop\x20(Admin)')[_0x17b261(0x23e)](_0x2ca769=>_0x2ca769[_0x17b261(0x321)](_0x17b261(0x25d))[_0x17b261(0x1dd)](_0x17b261(0x1db))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x300))[_0x17b261(0x1dd)](_0x17b261(0x210))[_0x17b261(0x23b)](_0x573ebf=>_0x573ebf[_0x17b261(0x321)](_0x17b261(0x1fc))[_0x17b261(0x1dd)]('Dein\x2016-stelliger\x20Paysafecode')['setRequired'](!![])[_0x17b261(0x217)](0x10)['setMaxLength'](0x10))[_0x17b261(0x23e)](_0x80408d=>_0x80408d['setName']('product_id')['setDescription'](_0x17b261(0x1e2))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()['setName'](_0x17b261(0x318))['setDescription'](_0x17b261(0x2db))['addChannelOption'](_0x47c4aa=>_0x47c4aa[_0x17b261(0x321)](_0x17b261(0x2c4))[_0x17b261(0x1dd)](_0x17b261(0x1a9))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()[_0x17b261(0x321)]('balance')['setDescription'](_0x17b261(0x2ee))[_0x17b261(0x2e1)](_0x5dc0bc=>_0x5dc0bc[_0x17b261(0x321)]('user')[_0x17b261(0x1dd)](_0x17b261(0x1c5))),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x19d))[_0x17b261(0x1dd)](_0x17b261(0x233))['addBooleanOption'](_0x4ccf88=>_0x4ccf88[_0x17b261(0x321)](_0x17b261(0x2b2))['setDescription'](_0x17b261(0x1d4))),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x1af))['setDescription'](_0x17b261(0x306))[_0x17b261(0x23e)](_0x32cbe4=>_0x32cbe4['setName'](_0x17b261(0x1b8))[_0x17b261(0x1dd)](_0x17b261(0x216))[_0x17b261(0x31e)](!![]))[_0x17b261(0x23e)](_0xb9fe44=>_0xb9fe44[_0x17b261(0x321)](_0x17b261(0x241))['setDescription'](_0x17b261(0x1fb))[_0x17b261(0x31e)](!![]))[_0x17b261(0x23e)](_0x5e03f5=>_0x5e03f5[_0x17b261(0x321)](_0x17b261(0x286))[_0x17b261(0x1dd)](_0x17b261(0x24b))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()[_0x17b261(0x321)]('createproduct')[_0x17b261(0x1dd)](_0x17b261(0x236))['addStringOption'](_0x5cfd2b=>_0x5cfd2b[_0x17b261(0x321)](_0x17b261(0x1c6))['setDescription'](_0x17b261(0x268))[_0x17b261(0x31e)](!![]))[_0x17b261(0x23e)](_0x44c83d=>_0x44c83d['setName']('price')[_0x17b261(0x1dd)](_0x17b261(0x2ca))['setRequired'](!![]))[_0x17b261(0x23b)](_0x5aca37=>_0x5aca37['setName'](_0x17b261(0x1b1))[_0x17b261(0x1dd)](_0x17b261(0x2f5))['setRequired'](!![]))[_0x17b261(0x23b)](_0x5c610a=>_0x5c610a[_0x17b261(0x321)]('image')[_0x17b261(0x1dd)](_0x17b261(0x25b))[_0x17b261(0x31e)](!![]))['addStringOption'](_0x355a1d=>_0x355a1d[_0x17b261(0x321)](_0x17b261(0x1d1))[_0x17b261(0x1dd)](_0x17b261(0x2bb))['addChoices']({'name':_0x17b261(0x246),'value':_0x17b261(0x277)},{'name':_0x17b261(0x303),'value':_0x17b261(0x223)})[_0x17b261(0x31e)](!![]))[_0x17b261(0x23b)](_0x7465a=>_0x7465a['setName'](_0x17b261(0x1d6))[_0x17b261(0x1dd)](_0x17b261(0x267))['setRequired'](!![])),new SlashCommandBuilder()['setName'](_0x17b261(0x2d6))[_0x17b261(0x1dd)](_0x17b261(0x2f7))['addUserOption'](_0x140653=>_0x140653[_0x17b261(0x321)](_0x17b261(0x280))[_0x17b261(0x1dd)](_0x17b261(0x1f2))['setRequired'](!![]))[_0x17b261(0x23e)](_0x5ee78e=>_0x5ee78e[_0x17b261(0x321)](_0x17b261(0x29f))[_0x17b261(0x1dd)](_0x17b261(0x221))[_0x17b261(0x31e)](!![])),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x20c))['setDescription']('Erstellt\x20Rabattcode\x20(Admin)')[_0x17b261(0x23e)](_0x519005=>_0x519005[_0x17b261(0x321)](_0x17b261(0x1c1))[_0x17b261(0x1dd)](_0x17b261(0x26f))[_0x17b261(0x31e)](!![]))[_0x17b261(0x23e)](_0x538d22=>_0x538d22[_0x17b261(0x321)](_0x17b261(0x1b8))[_0x17b261(0x1dd)](_0x17b261(0x21d))['setRequired'](!![]))['addIntegerOption'](_0x4f0036=>_0x4f0036[_0x17b261(0x321)](_0x17b261(0x218))[_0x17b261(0x1dd)](_0x17b261(0x1a5))[_0x17b261(0x31e)](!![]))[_0x17b261(0x23b)](_0x40a1ad=>_0x40a1ad[_0x17b261(0x321)](_0x17b261(0x2a7))[_0x17b261(0x1dd)]('Kommagetrennte\x20IDs\x20(leer=alle)')),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x1e0))[_0x17b261(0x1dd)]('Bewerte\x20ein\x20Produkt')[_0x17b261(0x23e)](_0x3146f8=>_0x3146f8['setName'](_0x17b261(0x25d))[_0x17b261(0x1dd)]('Produkt-ID')[_0x17b261(0x31e)](!![]))['addIntegerOption'](_0x14652e=>_0x14652e[_0x17b261(0x321)](_0x17b261(0x26a))[_0x17b261(0x1dd)]('1-5\x20Sterne')['setRequired'](!![])[_0x17b261(0x292)](0x1)[_0x17b261(0x215)](0x5))[_0x17b261(0x23b)](_0x53557b=>_0x53557b[_0x17b261(0x321)](_0x17b261(0x2f3))[_0x17b261(0x1dd)]('Bewertungstext')),new SlashCommandBuilder()[_0x17b261(0x321)](_0x17b261(0x290))[_0x17b261(0x1dd)](_0x17b261(0x21b))[_0x17b261(0x1d9)](_0x7e9ef0=>_0x7e9ef0[_0x17b261(0x321)](_0x17b261(0x2a9))['setDescription']('Zeige\x20deine\x20Wunschliste'))['addSubcommand'](_0x1c45d7=>_0x1c45d7['setName']('add')[_0x17b261(0x1dd)]('Produkt\x20hinzuf√ºgen')['addIntegerOption'](_0x5e8679=>_0x5e8679[_0x17b261(0x321)]('product_id')[_0x17b261(0x1dd)](_0x17b261(0x2b8))[_0x17b261(0x31e)](!![])))[_0x17b261(0x1d9)](_0x1f74f4=>_0x1f74f4[_0x17b261(0x321)](_0x17b261(0x31a))[_0x17b261(0x1dd)](_0x17b261(0x1ec))[_0x17b261(0x23e)](_0x5ab005=>_0x5ab005['setName']('product_id')[_0x17b261(0x1dd)]('Produkt-ID')[_0x17b261(0x31e)](!![])))]['map'](_0x5544fd=>_0x5544fd[_0x17b261(0x231)]());client['on'](_0x17b261(0x31b),async()=>{const _0x361136=_0x17b261;console['log'](_0x361136(0x265)+client[_0x361136(0x280)][_0x361136(0x26e)]),await client[_0x361136(0x2b1)]['commands'][_0x361136(0x305)](commands);}),client['on'](_0x17b261(0x1aa),async _0x103276=>{const _0xa93131=_0x17b261;if(_0x103276['commandName']!==_0xa93131(0x30c))return;const _0x1e55df=db[_0xa93131(0x288)]('\x0a\x20\x20\x20\x20SELECT\x20p.*,\x20\x0a\x20\x20\x20\x20\x20\x20AVG(r.rating)\x20as\x20avg_rating,\x0a\x20\x20\x20\x20\x20\x20COUNT(r.rating)\x20as\x20total_ratings\x0a\x20\x20\x20\x20FROM\x20products\x20p\x0a\x20\x20\x20\x20LEFT\x20JOIN\x20product_ratings\x20r\x20ON\x20p.id\x20=\x20r.product_id\x0a\x20\x20\x20\x20WHERE\x20p.id\x20IS\x20NOT\x20NULL\x20\x20--\x20Stellt\x20sicher,\x20dass\x20gel√∂schte\x20Produkte\x20nicht\x20angezeigt\x20werden\x0a\x20\x20\x20\x20GROUP\x20BY\x20p.id\x0a\x20\x20')[_0xa93131(0x2f4)]();if(_0x1e55df[_0xa93131(0x307)]===0x0)return _0x103276['reply']({'content':_0xa93131(0x2e7),'ephemeral':!![]});const _0x53ef97=new StringSelectMenuBuilder()['setCustomId'](_0xa93131(0x1e1))['setPlaceholder'](_0xa93131(0x1df))[_0xa93131(0x224)](_0x1e55df[_0xa93131(0x2f1)](_0x50b1b6=>({'label':_0x50b1b6[_0xa93131(0x1c6)][_0xa93131(0x28d)](0x0,0x19),'description':_0x50b1b6[_0xa93131(0x247)]+_0xa93131(0x1b0)+_0x50b1b6[_0xa93131(0x1b1)][_0xa93131(0x28d)](0x0,0x32)+_0xa93131(0x203),'value':_0x50b1b6['id'][_0xa93131(0x2b7)]()}))),_0x41aa7c=new ActionRowBuilder()[_0xa93131(0x253)](_0x53ef97),_0x334aaa=new EmbedBuilder()[_0xa93131(0x2de)](_0xa93131(0x22b))[_0xa93131(0x1dd)]('W√§hle\x20ein\x20Produkt\x20aus\x20dem\x20Men√º\x20f√ºr\x20mehr\x20Details')['setColor'](config[_0xa93131(0x1ae)][_0xa93131(0x23c)])[_0xa93131(0x30f)](config[_0xa93131(0x1ae)][_0xa93131(0x1d0)]);await _0x103276[_0xa93131(0x1d3)]({'embeds':[_0x334aaa],'components':[_0x41aa7c]});}),client['on'](_0x17b261(0x1aa),async _0x205e67=>{const _0x3f0027=_0x17b261;if(_0x205e67[_0x3f0027(0x269)]===_0x3f0027(0x1d2)){if(!_0x205e67['memberPermissions']['has'](_0x3f0027(0x1ed)))return _0x205e67[_0x3f0027(0x1d3)]({'content':_0x3f0027(0x26b),'ephemeral':!![]});const _0xb49451=_0x205e67[_0x3f0027(0x1ef)][_0x3f0027(0x1b6)](_0x3f0027(0x25d));try{const _0x508b22=db[_0x3f0027(0x288)]('SELECT\x20*\x20FROM\x20products\x20WHERE\x20id\x20=\x20?')[_0x3f0027(0x1da)](_0xb49451);if(!_0x508b22)return _0x205e67[_0x3f0027(0x1d3)]({'content':_0x3f0027(0x2ea),'ephemeral':!![]});const _0xf38fb8=new EmbedBuilder()[_0x3f0027(0x2de)]('‚ö†Ô∏è\x20Produkt\x20l√∂schen')['setDescription']('Bist\x20du\x20sicher,\x20dass\x20du\x20**'+_0x508b22['name']+_0x3f0027(0x1bc)+_0xb49451+')\x20l√∂schen\x20m√∂chtest?')['addFields']({'name':_0x3f0027(0x2c9),'value':_0x508b22[_0x3f0027(0x247)]+'\x20Coins','inline':!![]},{'name':_0x3f0027(0x2bb),'value':_0x508b22[_0x3f0027(0x1d1)],'inline':!![]})[_0x3f0027(0x2d5)](config[_0x3f0027(0x1ae)][_0x3f0027(0x237)]||0xffa500)[_0x3f0027(0x198)](_0x508b22[_0x3f0027(0x2f9)]),_0x1c96af=new ActionRowBuilder()[_0x3f0027(0x253)](new ButtonBuilder()[_0x3f0027(0x24e)](_0x3f0027(0x1be)+_0xb49451)['setLabel'](_0x3f0027(0x2c2))['setStyle'](ButtonStyle[_0x3f0027(0x26c)]),new ButtonBuilder()[_0x3f0027(0x24e)]('delete_cancel')[_0x3f0027(0x1fe)](_0x3f0027(0x20a))[_0x3f0027(0x1c7)](ButtonStyle[_0x3f0027(0x24c)]));await _0x205e67[_0x3f0027(0x1d3)]({'embeds':[_0xf38fb8],'components':[_0x1c96af],'ephemeral':!![]});}catch(_0x1978ec){console[_0x3f0027(0x28c)](_0x3f0027(0x1b7),_0x1978ec),await _0x205e67[_0x3f0027(0x1d3)]({'content':'‚ùå\x20Fehler\x20beim\x20L√∂schvorgang!','ephemeral':!![]});}}if(_0x205e67['isButton']()&&(_0x205e67[_0x3f0027(0x293)]['startsWith']('delete_confirm_')||_0x205e67[_0x3f0027(0x293)]==='delete_cancel')){if(!_0x205e67[_0x3f0027(0x250)][_0x3f0027(0x2e5)](_0x3f0027(0x1ed)))return _0x205e67['reply']({'content':_0x3f0027(0x26b),'ephemeral':!![]});if(_0x205e67[_0x3f0027(0x293)]===_0x3f0027(0x308)){await _0x205e67[_0x3f0027(0x1a2)]({'content':_0x3f0027(0x1ad),'components':[],'embeds':[]});return;}const _0x31e70c=_0x205e67['customId']['replace'](_0x3f0027(0x1be),'');try{db[_0x3f0027(0x313)](()=>{const _0x5c2238=_0x3f0027,_0x5cf653=db[_0x5c2238(0x288)]('DELETE\x20FROM\x20products\x20WHERE\x20id\x20=\x20?')[_0x5c2238(0x239)](_0x31e70c);if(_0x5cf653[_0x5c2238(0x2b9)]===0x0)throw new Error(_0x5c2238(0x21f));db[_0x5c2238(0x288)]('DELETE\x20FROM\x20product_keys\x20WHERE\x20product_id\x20=\x20?')[_0x5c2238(0x239)](_0x31e70c),db['prepare']('DELETE\x20FROM\x20product_ratings\x20WHERE\x20product_id\x20=\x20?')[_0x5c2238(0x239)](_0x31e70c),db[_0x5c2238(0x288)](_0x5c2238(0x1b3))['run'](_0x31e70c);}),await _0x205e67[_0x3f0027(0x1a2)]({'content':_0x3f0027(0x225)+_0x31e70c+_0x3f0027(0x19a),'components':[],'embeds':[]});}catch(_0x1136c0){console[_0x3f0027(0x28c)](_0x3f0027(0x25f),_0x1136c0),await _0x205e67[_0x3f0027(0x1a2)]({'content':_0x3f0027(0x1cc),'components':[],'embeds':[]});}}}),client['on'](_0x17b261(0x1aa),async _0x4ae919=>{const _0x93de3f=_0x17b261;if(_0x4ae919[_0x93de3f(0x269)]===_0x93de3f(0x2d6)){if(!_0x4ae919[_0x93de3f(0x250)]['has'](_0x93de3f(0x1ed)))return _0x4ae919[_0x93de3f(0x1d3)]({'content':_0x93de3f(0x26b),'ephemeral':!![]});const _0x46dc51=_0x4ae919[_0x93de3f(0x1ef)]['getUser']('user'),_0x5787e0=_0x4ae919[_0x93de3f(0x1ef)][_0x93de3f(0x1b6)](_0x93de3f(0x29f));db[_0x93de3f(0x288)](_0x93de3f(0x2e6))[_0x93de3f(0x239)](_0x46dc51['id'],_0x46dc51['id'],_0x5787e0);const _0x19d8c3=new EmbedBuilder()[_0x93de3f(0x2de)](_0x93de3f(0x1f8))['setDescription'](_0x46dc51[_0x93de3f(0x26e)]+_0x93de3f(0x294)+_0x5787e0+'\x20Coins\x20erhalten!')[_0x93de3f(0x2c3)]({'name':'Neuer\x20Kontostand','value':(db[_0x93de3f(0x288)](_0x93de3f(0x264))[_0x93de3f(0x1da)](_0x46dc51['id'])?.[_0x93de3f(0x241)]||0x0)+_0x93de3f(0x1c8)})[_0x93de3f(0x2d5)](config[_0x93de3f(0x1ae)][_0x93de3f(0x23c)]);await _0x4ae919[_0x93de3f(0x1d3)]({'embeds':[_0x19d8c3],'ephemeral':!![]});}}),client['on'](_0x17b261(0x1aa),async _0x17a024=>{const _0x4f6a6a=_0x17b261;if(_0x17a024[_0x4f6a6a(0x269)]===_0x4f6a6a(0x318)){if(!_0x17a024[_0x4f6a6a(0x250)]['has'](_0x4f6a6a(0x1ed)))return _0x17a024[_0x4f6a6a(0x1d3)]({'content':_0x4f6a6a(0x26b),'ephemeral':!![]});const _0x149149=_0x17a024[_0x4f6a6a(0x1ef)][_0x4f6a6a(0x24d)](_0x4f6a6a(0x2c4));if(!_0x149149[_0x4f6a6a(0x2aa)]())return _0x17a024[_0x4f6a6a(0x1d3)]({'content':_0x4f6a6a(0x1cf),'ephemeral':!![]});try{db[_0x4f6a6a(0x288)](_0x4f6a6a(0x2ed))['run'](_0x17a024[_0x4f6a6a(0x245)],_0x149149['id']);const _0x4d4921=new EmbedBuilder()[_0x4f6a6a(0x2de)](_0x4f6a6a(0x1ab))[_0x4f6a6a(0x1dd)](_0x4f6a6a(0x214)+_0x149149+'\x20gespeichert')[_0x4f6a6a(0x2c3)]({'name':_0x4f6a6a(0x2bf),'value':_0x149149['id'],'inline':!![]})[_0x4f6a6a(0x2d5)](config[_0x4f6a6a(0x1ae)][_0x4f6a6a(0x23c)])['setTimestamp']();await _0x17a024[_0x4f6a6a(0x1d3)]({'embeds':[_0x4d4921],'ephemeral':!![]});}catch(_0x5a6c46){console[_0x4f6a6a(0x28c)](_0x4f6a6a(0x2d0),_0x5a6c46),await _0x17a024[_0x4f6a6a(0x1d3)]({'content':_0x4f6a6a(0x2cd),'ephemeral':!![]});}}}),client['on'](_0x17b261(0x1aa),async _0x3ec2ec=>{const _0x582225=_0x17b261;if(!_0x3ec2ec[_0x582225(0x226)]()||_0x3ec2ec[_0x582225(0x293)]!==_0x582225(0x1e1))return;try{await _0x3ec2ec[_0x582225(0x2c6)]();}catch(_0x3e9a93){console['error'](_0x582225(0x1d5),_0x3e9a93);return;}try{const _0x42239a=parseInt(_0x3ec2ec[_0x582225(0x2a0)][0x0]);if(isNaN(_0x42239a))return console['error'](_0x582225(0x2ef),_0x3ec2ec['values'][0x0]),_0x3ec2ec[_0x582225(0x1a4)]({'content':_0x582225(0x29b),'ephemeral':!![]});const _0x36abd3=db[_0x582225(0x288)](_0x582225(0x31f))[_0x582225(0x1da)](_0x42239a);if(!_0x36abd3)return await _0x3ec2ec[_0x582225(0x1a4)]({'content':_0x582225(0x29d),'flags':MessageFlags[_0x582225(0x1fa)]});if(!_0x3ec2ec[_0x582225(0x314)]||_0x3ec2ec[_0x582225(0x314)][_0x582225(0x1ea)])return _0x3ec2ec[_0x582225(0x1a4)]({'content':_0x582225(0x1f6),'ephemeral':!![]});const _0x2f2df5=_0x36abd3[_0x582225(0x207)]?'‚òÖ'['repeat'](Math['round'](_0x36abd3[_0x582225(0x207)]))[_0x582225(0x25a)](0x5,'‚òÜ'):_0x582225(0x1cb),_0x1d36ab=new EmbedBuilder()[_0x582225(0x2de)](_0x582225(0x227)+_0x36abd3[_0x582225(0x1c6)])[_0x582225(0x1dd)](_0x36abd3[_0x582225(0x1b1)])[_0x582225(0x2d5)](config[_0x582225(0x1ae)][_0x582225(0x23c)])['setImage'](_0x36abd3['image_url'])['addFields']({'name':'Preis','value':'**'+_0x36abd3[_0x582225(0x247)]+'\x20Coins**','inline':!![]},{'name':'Lieferart','value':_0x36abd3[_0x582225(0x1d1)]===_0x582225(0x277)?_0x582225(0x199):'üîë\x20Aktivierungscode','inline':!![]},{'name':_0x582225(0x2b6),'value':_0x2f2df5+'\x20('+_0x36abd3['total_ratings']+')','inline':!![]},{'name':_0x582225(0x2b8),'value':'#'+_0x36abd3['id'],'inline':!![]}),_0x25e0f2=new ActionRowBuilder()[_0x582225(0x253)](new ButtonBuilder()[_0x582225(0x24e)]('buy_'+_0x36abd3['id'])[_0x582225(0x1fe)](_0x582225(0x291))[_0x582225(0x1c7)](ButtonStyle[_0x582225(0x22d)]),new ButtonBuilder()[_0x582225(0x24e)](_0x582225(0x281)+_0x36abd3['id'])[_0x582225(0x1fe)]('Mit\x20Paysafe\x20zahlen')['setStyle'](ButtonStyle[_0x582225(0x243)])['setEmoji']('üí≥'));await _0x3ec2ec[_0x582225(0x314)][_0x582225(0x256)]({'embeds':[_0x1d36ab],'components':[_0x25e0f2]});}catch(_0x4e3703){console[_0x582225(0x28c)](_0x582225(0x19b),_0x4e3703),await _0x3ec2ec['followUp']({'content':_0x582225(0x278),'flags':MessageFlags[_0x582225(0x1fa)]});}}),client['on'](_0x17b261(0x1aa),async _0x4de48c=>{const _0x3ef872=_0x17b261;if(!_0x4de48c[_0x3ef872(0x251)]()||!_0x4de48c[_0x3ef872(0x293)][_0x3ef872(0x297)]('paysafe_'))return;try{const _0x3e9af4=_0x4de48c[_0x3ef872(0x293)][_0x3ef872(0x29c)]('_')[0x1],_0x1f6ac0=db[_0x3ef872(0x288)]('SELECT\x20*\x20FROM\x20products\x20WHERE\x20id\x20=\x20?')[_0x3ef872(0x1da)](_0x3e9af4);if(!_0x1f6ac0)return _0x4de48c[_0x3ef872(0x1d3)]({'content':'‚ùå\x20Ung√ºltiges\x20Produkt!','ephemeral':!![]});const _0x2b1526=new ModalBuilder()[_0x3ef872(0x24e)]('paysafeModal_'+_0x3e9af4)['setTitle'](_0x3ef872(0x260)+_0x1f6ac0['name']),_0x313073=new TextInputBuilder()[_0x3ef872(0x24e)](_0x3ef872(0x25c))['setLabel']('16-stelliger\x20Paysafecode')['setStyle'](TextInputStyle['Short'])['setMinLength'](0x10)[_0x3ef872(0x1ee)](0x10)[_0x3ef872(0x31e)](!![])['setPlaceholder']('XXXX-XXXX-XXXX-XXXX'),_0x521655=new ActionRowBuilder()[_0x3ef872(0x253)](_0x313073);_0x2b1526[_0x3ef872(0x253)](_0x521655),await _0x4de48c[_0x3ef872(0x23a)](_0x2b1526);}catch(_0x41fba0){console[_0x3ef872(0x28c)](_0x3ef872(0x1ce),_0x41fba0),!_0x4de48c[_0x3ef872(0x2da)]&&!_0x4de48c[_0x3ef872(0x282)]&&await _0x4de48c[_0x3ef872(0x1d3)]({'content':_0x3ef872(0x2f0),'ephemeral':!![]});}}),client['on']('interactionCreate',async _0x443850=>{const _0x10285e=_0x17b261;if(!_0x443850['isModalSubmit']()||!_0x443850['customId'][_0x10285e(0x297)](_0x10285e(0x208)))return;await _0x443850['deferReply']({'ephemeral':!![]});const _0x40e6cf=_0x443850['customId']['split']('_')[0x1],_0x495ec8=_0x443850[_0x10285e(0x275)][_0x10285e(0x1f7)]('paysafeCode');try{const _0x2fcc33=db['prepare']('SELECT\x20*\x20FROM\x20products\x20WHERE\x20id\x20=\x20?')[_0x10285e(0x1da)](_0x40e6cf);if(!_0x2fcc33)return _0x443850[_0x10285e(0x1b5)](_0x10285e(0x2ea));if(!/^\d{16}$/['test'](_0x495ec8['replace'](/\s/g,'')))return _0x443850['editReply'](_0x10285e(0x319));const _0x4a7416=crypto['randomBytes'](0x8)['toString'](_0x10285e(0x274))[_0x10285e(0x296)]();db['prepare'](_0x10285e(0x1bd))[_0x10285e(0x239)](_0x4a7416,_0x443850['user']['id'],_0x40e6cf,_0x495ec8,_0x2fcc33[_0x10285e(0x247)]);const _0x1cdad3=db[_0x10285e(0x288)](_0x10285e(0x2e2))['get'](_0x443850[_0x10285e(0x245)]);if(!_0x1cdad3?.[_0x10285e(0x1a7)])return _0x443850[_0x10285e(0x1b5)]('‚ùå\x20Payment-System\x20nicht\x20konfiguriert!');const _0x36c759=_0x443850['guild'][_0x10285e(0x2ac)]['cache']['get'](_0x1cdad3['CHANNELS'][_0x10285e(0x27e)]);if(!_0x36c759?.[_0x10285e(0x2aa)]())return _0x443850[_0x10285e(0x1b5)](_0x10285e(0x254));const _0x48b8d5=new EmbedBuilder()[_0x10285e(0x2de)](_0x10285e(0x320))[_0x10285e(0x2d5)](_0x1cdad3['EMBEDS'][_0x10285e(0x23c)])[_0x10285e(0x2c3)]({'name':_0x10285e(0x22f),'value':_0x4a7416},{'name':'Benutzer','value':_0x443850['user']['tag']+'\x20('+_0x443850[_0x10285e(0x280)]['id']+')'},{'name':_0x10285e(0x2be),'value':_0x2fcc33[_0x10285e(0x1c6)]+'\x20(#'+_0x40e6cf+')'},{'name':'Betrag','value':_0x2fcc33[_0x10285e(0x247)]+_0x10285e(0x1c8)},{'name':'Paysafecode','value':'||'+_0x495ec8+'||'})['setThumbnail'](_0x443850[_0x10285e(0x280)][_0x10285e(0x20e)]())[_0x10285e(0x242)](),_0x176f31=new ActionRowBuilder()['addComponents'](new ButtonBuilder()[_0x10285e(0x24e)](_0x10285e(0x298)+_0x4a7416)[_0x10285e(0x1fe)](_0x10285e(0x2eb))['setStyle'](ButtonStyle[_0x10285e(0x22d)]),new ButtonBuilder()[_0x10285e(0x24e)](_0x10285e(0x2d3)+_0x4a7416)[_0x10285e(0x1fe)](_0x10285e(0x2d8))[_0x10285e(0x1c7)](ButtonStyle[_0x10285e(0x26c)]));await _0x36c759['send']({'content':_0x10285e(0x270)+_0x1cdad3[_0x10285e(0x2fd)]['ADMIN']+'>','embeds':[_0x48b8d5],'components':[_0x176f31]}),await _0x443850[_0x10285e(0x1b5)]({'content':'‚úÖ\x20Zahlung\x20erfolgreich\x20eingereicht!\x20Ein\x20Admin\x20wird\x20sie\x20bald\x20√ºberpr√ºfen.'});}catch(_0x1e234d){console['error'](_0x10285e(0x263),_0x1e234d),await _0x443850['editReply']({'content':_0x10285e(0x2f8)});}}),client['on'](_0x17b261(0x1aa),async _0x58db23=>{const _0x35f7f8=_0x17b261;if(_0x58db23[_0x35f7f8(0x269)]===_0x35f7f8(0x300)){await _0x58db23['deferReply']({'ephemeral':!![]});const _0xb7742d=_0x58db23[_0x35f7f8(0x1ef)][_0x35f7f8(0x2a6)](_0x35f7f8(0x1fc)),_0x5af443=_0x58db23['options']['getInteger'](_0x35f7f8(0x25d)),_0x4b7e70=db[_0x35f7f8(0x288)](_0x35f7f8(0x324))['get'](_0x5af443);if(!_0x4b7e70)return _0x58db23['editReply']('‚ùå\x20Ung√ºltiges\x20Produkt!');const _0x39517d=crypto[_0x35f7f8(0x271)](0x8)[_0x35f7f8(0x2b7)]('hex')[_0x35f7f8(0x296)]();db[_0x35f7f8(0x288)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20pending_payments\x20\x0a\x20\x20\x20\x20\x20\x20(payment_id,\x20user_id,\x20product_id,\x20paysafecode,\x20amount)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20\x20\x20')['run'](_0x39517d,_0x58db23[_0x35f7f8(0x280)]['id'],_0x5af443,_0xb7742d,_0x4b7e70['price']);const _0x586798=db[_0x35f7f8(0x288)](_0x35f7f8(0x2e2))[_0x35f7f8(0x1da)](_0x58db23[_0x35f7f8(0x245)]);if(!_0x586798?.[_0x35f7f8(0x1a7)])return _0x58db23[_0x35f7f8(0x1b5)](_0x35f7f8(0x2d4));const _0x54315e=_0x58db23[_0x35f7f8(0x1c2)]['channels'][_0x35f7f8(0x209)][_0x35f7f8(0x1da)](_0x586798[_0x35f7f8(0x2c7)][_0x35f7f8(0x27e)]);if(!_0x54315e)return _0x58db23['editReply'](_0x35f7f8(0x254));const _0x5cf74b=new EmbedBuilder()['setTitle'](_0x35f7f8(0x320))['setColor'](_0x586798['EMBEDS'][_0x35f7f8(0x23c)])[_0x35f7f8(0x2c3)]({'name':'Payment-ID','value':_0x39517d},{'name':_0x35f7f8(0x1f2),'value':_0x58db23[_0x35f7f8(0x280)]['tag']+'\x20('+_0x58db23[_0x35f7f8(0x280)]['id']+')'},{'name':_0x35f7f8(0x2be),'value':_0x4b7e70[_0x35f7f8(0x1c6)]+_0x35f7f8(0x1dc)+_0x5af443+')'},{'name':'Betrag','value':_0x4b7e70[_0x35f7f8(0x247)]+_0x35f7f8(0x1c8)},{'name':_0x35f7f8(0x2f2),'value':'||'+_0xb7742d+'||'})[_0x35f7f8(0x242)](),_0x4e6da1=new ActionRowBuilder()[_0x35f7f8(0x253)](new ButtonBuilder()[_0x35f7f8(0x24e)]('payment_approve_'+_0x39517d)[_0x35f7f8(0x1fe)](_0x35f7f8(0x2eb))[_0x35f7f8(0x1c7)](ButtonStyle['Success']),new ButtonBuilder()[_0x35f7f8(0x24e)](_0x35f7f8(0x2d3)+_0x39517d)[_0x35f7f8(0x1fe)]('Ablehnen')[_0x35f7f8(0x1c7)](ButtonStyle[_0x35f7f8(0x26c)]));await _0x54315e['send']({'embeds':[_0x5cf74b],'components':[_0x4e6da1]}),await _0x58db23[_0x35f7f8(0x1b5)](_0x35f7f8(0x2a1));}}),client['on'](_0x17b261(0x1aa),async _0x2f2597=>{const _0x175056=_0x17b261;if(!_0x2f2597[_0x175056(0x251)]()||!_0x2f2597[_0x175056(0x293)][_0x175056(0x297)](_0x175056(0x25e)))return;const [_0x342462,_0x5016dd]=_0x2f2597['customId'][_0x175056(0x29c)]('_')['slice'](0x1);if(![_0x175056(0x30b),_0x175056(0x222)]['includes'](_0x342462))return;if(!_0x2f2597[_0x175056(0x250)]['has'](_0x175056(0x1ed)))return _0x2f2597[_0x175056(0x1d3)]({'content':_0x175056(0x238),'ephemeral':!![]});const _0x389ac8=db['prepare'](_0x175056(0x22e))[_0x175056(0x1da)](_0x5016dd);if(!_0x389ac8)return _0x2f2597['reply']({'content':_0x175056(0x301),'ephemeral':!![]});try{db['prepare'](_0x175056(0x220))[_0x175056(0x239)](_0x175056(0x1cd),_0x5016dd);const _0x964156=db[_0x175056(0x288)](_0x175056(0x324))[_0x175056(0x1da)](_0x389ac8[_0x175056(0x25d)]);if(!_0x964156)throw new Error(_0x175056(0x2dd));const _0x53a009=await client[_0x175056(0x19f)][_0x175056(0x235)](_0x389ac8['user_id']);if(!_0x53a009)throw new Error('USER_NOT_FOUND');const _0x84055d=db[_0x175056(0x288)](_0x175056(0x220))[_0x175056(0x239)]('approved',_0x5016dd);if(_0x964156['delivery_type']==='KEY'){const _0x2f02c3=db[_0x175056(0x288)](_0x175056(0x2ff))['get'](_0x964156['id']);if(!_0x2f02c3)throw new Error(_0x175056(0x310));db['prepare'](_0x175056(0x27d))[_0x175056(0x239)](_0x389ac8['user_id'],_0x2f02c3[_0x175056(0x258)]);}else _0x964156[_0x175056(0x1d1)]==='FILE'&&db[_0x175056(0x288)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20file_purchases\x20(user_id,\x20product_id)\x20\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20')[_0x175056(0x239)](_0x389ac8['user_id'],_0x964156['id']);let _0x1a8c1f=[],_0x29a649=_0x964156[_0x175056(0x1b1)];if(_0x964156[_0x175056(0x1d1)]==='KEY'){const _0x3f6bfc=db[_0x175056(0x288)](_0x175056(0x1e8))[_0x175056(0x1da)](_0x964156['id']);if(!_0x3f6bfc)throw new Error(_0x175056(0x310));db[_0x175056(0x288)](_0x175056(0x315))[_0x175056(0x239)](_0x53a009['id'],_0x3f6bfc[_0x175056(0x258)]),_0x1a8c1f[_0x175056(0x312)](new ActionRowBuilder()[_0x175056(0x253)](new ButtonBuilder()[_0x175056(0x24e)](_0x175056(0x283)+_0x964156['id'])[_0x175056(0x1fe)]('Key\x20anzeigen')[_0x175056(0x1c7)](ButtonStyle[_0x175056(0x243)])[_0x175056(0x287)]('üîë')));}else _0x964156[_0x175056(0x1d1)]==='FILE'&&_0x1a8c1f[_0x175056(0x312)](new ActionRowBuilder()[_0x175056(0x253)](new ButtonBuilder()[_0x175056(0x1fe)](_0x175056(0x2bc))['setURL'](_0x964156['delivery_content'])[_0x175056(0x1c7)](ButtonStyle[_0x175056(0x28e)])));const _0x1c2ca1=new EmbedBuilder()[_0x175056(0x2de)](_0x175056(0x1a3)+_0x964156['name']+_0x175056(0x21e))[_0x175056(0x1dd)](_0x29a649)[_0x175056(0x2c3)]({'name':_0x175056(0x311),'value':'#'+crypto[_0x175056(0x271)](0x4)[_0x175056(0x2b7)]('hex')[_0x175056(0x296)](),'inline':!![]},{'name':_0x175056(0x2bb),'value':_0x964156[_0x175056(0x1d1)]==='KEY'?_0x175056(0x196):_0x175056(0x1ac),'inline':!![]})[_0x175056(0x2d5)](config[_0x175056(0x1ae)][_0x175056(0x23c)])[_0x175056(0x198)](_0x964156[_0x175056(0x2f9)])[_0x175056(0x211)]({'text':_0x175056(0x219)});await _0x53a009[_0x175056(0x2a3)]({'embeds':[_0x1c2ca1],'components':_0x1a8c1f}),await _0x2f2597[_0x175056(0x1a2)]({'content':'‚úÖ\x20Zahlung\x20erfolgreich\x20best√§tigt','components':[]});}catch(_0x15bd4f){console['error']('Transaktionsfehler:',_0x15bd4f);const _0x55e162={'PRODUCT_NOT_FOUND':'‚ùå\x20Produkt\x20existiert\x20nicht','USER_NOT_FOUND':_0x175056(0x1d8),'KEYS_EXHAUSTED':_0x175056(0x22a),'DM_DELIVERY_FAILED':'‚ùå\x20Zustellung\x20per\x20DM\x20fehlgeschlagen'};await _0x2f2597[_0x175056(0x1d3)]({'content':_0x55e162[_0x15bd4f[_0x175056(0x314)]]||_0x175056(0x266),'ephemeral':!![]});}}),client['on'](_0x17b261(0x1aa),async _0x1b68f7=>{const _0x499082=_0x17b261;if(_0x1b68f7['commandName']==='leaderboard'){const _0x2a6f5a=_0x1b68f7[_0x499082(0x1ef)]['getBoolean'](_0x499082(0x2b2))||![];if(_0x2a6f5a&&!_0x1b68f7[_0x499082(0x250)][_0x499082(0x2e5)]('Administrator'))return _0x1b68f7[_0x499082(0x1d3)]({'content':_0x499082(0x213),'ephemeral':!![]});const _0x50b397=getLeaderboard(0xa,!_0x2a6f5a,_0x1b68f7['guildId']),_0x426d88=new EmbedBuilder()[_0x499082(0x2de)](_0x499082(0x1bb)+(_0x2a6f5a?'Globales':_0x499082(0x1bf))+'\x20Leaderboard')[_0x499082(0x2d5)](config[_0x499082(0x1ae)][_0x499082(0x23c)])[_0x499082(0x198)](config[_0x499082(0x1ae)][_0x499082(0x1f1)])[_0x499082(0x211)]({'text':_0x499082(0x1e9)+new Date()[_0x499082(0x252)](_0x499082(0x295))});if(_0x50b397[_0x499082(0x307)]===0x0)return _0x426d88[_0x499082(0x1dd)]('‚ùå\x20Keine\x20Daten\x20verf√ºgbar'),_0x1b68f7[_0x499082(0x1d3)]({'embeds':[_0x426d88]});const _0x228cd3=['ü•á','ü•à','ü•â'];for(let _0x2964ee=0x0;_0x2964ee<_0x50b397[_0x499082(0x307)];_0x2964ee++){const _0x2fd157=await client[_0x499082(0x19f)][_0x499082(0x235)](_0x50b397[_0x2964ee]['user_id'])[_0x499082(0x244)](()=>null),_0x35df1d=_0x50b397[_0x2964ee]['coins'][_0x499082(0x252)](_0x499082(0x295));_0x426d88[_0x499082(0x2c3)]({'name':(_0x2964ee<0x3?_0x228cd3[_0x2964ee]:'#'+(_0x2964ee+0x1))+'\x20'+(_0x2fd157?.[_0x499082(0x323)]||'Unbekannter\x20User'),'value':'**'+_0x35df1d+_0x499082(0x259),'inline':![]});}const _0x1dda45=db[_0x499082(0x288)]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20COUNT(*)\x20as\x20rank\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20coins\x20>\x20(SELECT\x20coins\x20FROM\x20users\x20WHERE\x20user_id\x20=\x20?)\x0a\x20\x20\x20\x20')[_0x499082(0x1da)](_0x1b68f7[_0x499082(0x280)]['id'])?.[_0x499082(0x1e3)]+0x1;_0x426d88[_0x499082(0x2c3)]({'name':_0x499082(0x20f),'value':_0x1dda45?'Platz\x20#'+_0x1dda45+_0x499082(0x2fe)+(db[_0x499082(0x288)]('SELECT\x20coins\x20FROM\x20users\x20WHERE\x20user_id\x20=\x20?')[_0x499082(0x1da)](_0x1b68f7[_0x499082(0x280)]['id'])?.[_0x499082(0x241)]||0x0)+_0x499082(0x1c8):_0x499082(0x316),'inline':![]}),await _0x1b68f7[_0x499082(0x1d3)]({'embeds':[_0x426d88]});}}),client['on'](_0x17b261(0x1aa),async _0x414f60=>{const _0x5cbcbd=_0x17b261;if(_0x414f60[_0x5cbcbd(0x269)]===_0x5cbcbd(0x1e4)){const _0x1ba2cc=_0x414f60[_0x5cbcbd(0x1ef)]['getString']('code'),_0x276173=db[_0x5cbcbd(0x288)](_0x5cbcbd(0x2ad))[_0x5cbcbd(0x1da)](_0x1ba2cc);if(!_0x276173)return _0x414f60[_0x5cbcbd(0x1d3)](_0x5cbcbd(0x285));db[_0x5cbcbd(0x288)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20user_coupons\x20(user_id,\x20coupon_code)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20DO\x20NOTHING\x0a\x20\x20\x20\x20')[_0x5cbcbd(0x239)](_0x414f60[_0x5cbcbd(0x280)]['id'],_0x1ba2cc),db[_0x5cbcbd(0x288)](_0x5cbcbd(0x2b0))['run'](_0x1ba2cc),_0x414f60[_0x5cbcbd(0x1d3)](_0x5cbcbd(0x1eb));}}),db[_0x17b261(0x288)](_0x17b261(0x1a1))['run'](),client['on'](_0x17b261(0x1aa),async _0x3f0d73=>{const _0x2f8a2c=_0x17b261;if(_0x3f0d73[_0x2f8a2c(0x269)]===_0x2f8a2c(0x1e6)){const _0x1abb72=db[_0x2f8a2c(0x288)](_0x2f8a2c(0x1a0))[_0x2f8a2c(0x1da)](_0x3f0d73[_0x2f8a2c(0x280)]['id'],Math[_0x2f8a2c(0x1f4)](Date[_0x2f8a2c(0x2c8)]()/0x3e8));if(_0x1abb72[_0x2f8a2c(0x2ce)]<0x15180)return _0x3f0d73[_0x2f8a2c(0x1d3)](_0x2f8a2c(0x2dc));db['prepare'](_0x2f8a2c(0x2a8))[_0x2f8a2c(0x239)](config[_0x2f8a2c(0x232)][_0x2f8a2c(0x27b)],_0x3f0d73[_0x2f8a2c(0x280)]['id']),_0x3f0d73[_0x2f8a2c(0x1d3)]('‚úÖ\x20100\x20Coins\x20erhalten!');}}),client['on'](_0x17b261(0x1aa),async _0x5e94a5=>{const _0x43642e=_0x17b261;if(!_0x5e94a5[_0x43642e(0x251)]()||!_0x5e94a5[_0x43642e(0x293)]['startsWith'](_0x43642e(0x2a2)))return;await _0x5e94a5['deferReply']({'ephemeral':!![]});const _0x2043db=_0x5e94a5['customId']['split']('_')[0x1],_0x1ebf13=db['prepare'](_0x43642e(0x23d))[_0x43642e(0x1da)](_0x2043db);if(!_0x1ebf13)return _0x5e94a5[_0x43642e(0x1b5)](_0x43642e(0x2ea));const _0x1f6f64=db['prepare']('\x0a\x20\x20\x20\x20SELECT\x201\x20FROM\x20wishlist\x20\x0a\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x20AND\x20product_id\x20=\x20?\x0a\x20\x20')['get'](_0x5e94a5[_0x43642e(0x280)]['id'],_0x2043db);_0x1f6f64?(db[_0x43642e(0x288)]('\x0a\x20\x20\x20\x20\x20\x20DELETE\x20FROM\x20wishlist\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x20AND\x20product_id\x20=\x20?\x0a\x20\x20\x20\x20')[_0x43642e(0x239)](_0x5e94a5['user']['id'],_0x2043db),_0x5e94a5['editReply'](_0x43642e(0x2c1))):(db[_0x43642e(0x288)](_0x43642e(0x2e0))['run'](_0x5e94a5[_0x43642e(0x280)]['id'],_0x2043db),_0x5e94a5['editReply'](_0x43642e(0x2af)));const _0x2e84f2=new ButtonBuilder()[_0x43642e(0x24e)]('wishlist_'+_0x2043db)[_0x43642e(0x1fe)](_0x1f6f64?_0x43642e(0x1b4):_0x43642e(0x1b9))[_0x43642e(0x1c7)](_0x1f6f64?ButtonStyle['Success']:ButtonStyle[_0x43642e(0x24c)])[_0x43642e(0x287)](_0x1f6f64?'‚ù§Ô∏è':'ü§ç'),_0x4f17fa=new ActionRowBuilder()[_0x43642e(0x253)](_0x5e94a5[_0x43642e(0x314)][_0x43642e(0x249)][0x0][_0x43642e(0x249)][0x0],_0x2e84f2);await _0x5e94a5[_0x43642e(0x314)][_0x43642e(0x256)]({'components':[_0x4f17fa]});}),client['on']('interactionCreate',async _0xd0881a=>{const _0x55de24=_0x17b261;if(!_0xd0881a[_0x55de24(0x251)]()||!_0xd0881a[_0x55de24(0x293)][_0x55de24(0x297)](_0x55de24(0x2fb)))return;await _0xd0881a[_0x55de24(0x28f)]({'ephemeral':!![]});const _0x48f8fb=_0xd0881a['customId']['split']('_')[0x1];try{const _0x72af98=db[_0x55de24(0x288)](_0x55de24(0x329))['get'](_0xd0881a['user']['id'],_0x48f8fb);if(!_0x72af98)return _0xd0881a[_0x55de24(0x1b5)]('‚ö†Ô∏è\x20Produkt\x20nicht\x20gefunden!');let _0x251c52=_0x72af98[_0x55de24(0x247)],_0x54f1e8=null;if(_0x72af98[_0x55de24(0x1e7)]){const _0x4f147b=_0x72af98['active_coupons'][_0x55de24(0x29c)](',')[0x0];_0x54f1e8=db[_0x55de24(0x288)](_0x55de24(0x27f))[_0x55de24(0x1da)](_0x4f147b);if(_0x54f1e8){const _0x9a6c0f=_0x72af98[_0x55de24(0x247)]*(_0x54f1e8['discount_percent']/0x64);_0x251c52=Math[_0x55de24(0x201)](0x0,_0x72af98['price']-_0x9a6c0f),db[_0x55de24(0x288)](_0x55de24(0x212))[_0x55de24(0x239)](_0xd0881a[_0x55de24(0x280)]['id'],_0x54f1e8['code']);}}const _0x15f1f1=db[_0x55de24(0x288)](_0x55de24(0x31d))['get'](_0xd0881a[_0x55de24(0x280)]['id'])||{'coins':0x0};if(_0x15f1f1['coins']<_0x251c52){const _0x69673e=_0x251c52-_0x15f1f1[_0x55de24(0x241)];return _0xd0881a[_0x55de24(0x1b5)]('‚ùå\x20Nicht\x20genug\x20Coins!\x20Du\x20ben√∂tigst\x20'+_0x69673e+_0x55de24(0x2ae)+(_0x54f1e8?'\x0a(Coupon-Rabatt\x20bereits\x20eingerechnet)':''));}const _0x11777f=db[_0x55de24(0x313)](()=>{const _0x57fcf2=_0x55de24;db['prepare'](_0x57fcf2(0x1e5))[_0x57fcf2(0x239)](_0x251c52,_0xd0881a['user']['id']);if(_0x72af98[_0x57fcf2(0x1d1)]==='KEY'){const _0x4efb14=db[_0x57fcf2(0x288)](_0x57fcf2(0x24f))[_0x57fcf2(0x1da)](_0x72af98['id']);if(!_0x4efb14)throw new Error(_0x57fcf2(0x310));db['prepare'](_0x57fcf2(0x2e4))[_0x57fcf2(0x239)](_0xd0881a[_0x57fcf2(0x280)]['id'],_0x4efb14['key']);}_0x72af98['delivery_type']===_0x57fcf2(0x277)&&db[_0x57fcf2(0x288)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20OR\x20IGNORE\x20INTO\x20file_purchases\x20(user_id,\x20product_id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['run'](_0xd0881a[_0x57fcf2(0x280)]['id'],_0x72af98['id']);});_0x11777f();const _0x33e01b=new EmbedBuilder()[_0x55de24(0x2de)](_0x55de24(0x1a3)+_0x72af98[_0x55de24(0x1c6)]+'\x20-\x20Kaufbest√§tigung')[_0x55de24(0x1dd)]([_0x72af98['description'],_0x54f1e8&&_0x55de24(0x1fd)+_0x54f1e8[_0x55de24(0x202)]+_0x55de24(0x20b),_0x55de24(0x2e9)+_0x251c52+_0x55de24(0x1c8)][_0x55de24(0x2ab)](Boolean)[_0x55de24(0x2ec)]('\x0a\x0a'))['addFields']({'name':'Bestellnummer','value':'#'+crypto['randomBytes'](0x4)[_0x55de24(0x2b7)](_0x55de24(0x274))[_0x55de24(0x296)](),'inline':!![]},{'name':_0x55de24(0x2bb),'value':_0x72af98[_0x55de24(0x1d1)]===_0x55de24(0x223)?_0x55de24(0x196):_0x55de24(0x1ac),'inline':!![]})[_0x55de24(0x2d5)](config[_0x55de24(0x1ae)]['DEFAULT_COLOR'])[_0x55de24(0x198)](_0x72af98[_0x55de24(0x2f9)])[_0x55de24(0x211)]({'text':_0x55de24(0x219)}),_0x2e7866=new ActionRowBuilder()[_0x55de24(0x253)](_0x72af98[_0x55de24(0x1d1)]===_0x55de24(0x277)?new ButtonBuilder()['setLabel'](_0x55de24(0x2bc))[_0x55de24(0x327)](_0x72af98[_0x55de24(0x1d6)])[_0x55de24(0x1c7)](ButtonStyle[_0x55de24(0x28e)]):new ButtonBuilder()['setCustomId']('revealKey_'+_0x72af98['id'])[_0x55de24(0x1fe)](_0x55de24(0x29a))['setStyle'](ButtonStyle[_0x55de24(0x243)])[_0x55de24(0x287)]('üîë'));await _0xd0881a[_0x55de24(0x280)][_0x55de24(0x2a3)]({'embeds':[_0x33e01b],'components':[_0x2e7866]}),await _0xd0881a[_0x55de24(0x1b5)]({'content':'‚úÖ\x20Kauf\x20erfolgreich!\x20Die\x20Lieferdetails\x20wurden\x20dir\x20per\x20DM\x20gesendet.'});}catch(_0x33c736){console[_0x55de24(0x28c)](_0x55de24(0x1c4),_0x33c736);const _0x29d415={'KEYS_EXHAUSTED':'‚ùå\x20Vor√ºbergehend\x20ausverkauft!\x20Bitte\x20sp√§ter\x20erneut\x20versuchen.'}[_0x33c736[_0x55de24(0x314)]]||_0x55de24(0x205);await _0xd0881a[_0x55de24(0x1b5)](_0x29d415);}}),client['on'](_0x17b261(0x1aa),async _0x6d55bb=>{const _0x4736c6=_0x17b261;if(!_0x6d55bb['isButton']()||!_0x6d55bb[_0x4736c6(0x293)][_0x4736c6(0x297)](_0x4736c6(0x283)))return;const _0x580c01=_0x6d55bb[_0x4736c6(0x293)]['split']('_')[0x1],_0xc3e0e6=db[_0x4736c6(0x288)](_0x4736c6(0x248))[_0x4736c6(0x1da)](_0x6d55bb['user']['id'],_0x580c01);_0xc3e0e6?await _0x6d55bb['reply']({'content':_0x4736c6(0x27c)+_0xc3e0e6[_0x4736c6(0x258)]+'||','ephemeral':!![]}):await _0x6d55bb[_0x4736c6(0x1d3)]({'content':_0x4736c6(0x2f6),'ephemeral':!![]});}),client['on']('interactionCreate',async _0x57e862=>{const _0x3033fc=_0x17b261;if(_0x57e862[_0x3033fc(0x269)]===_0x3033fc(0x30d)){if(!_0x57e862[_0x3033fc(0x250)]['has'](_0x3033fc(0x1ed)))return _0x57e862[_0x3033fc(0x1d3)]({'content':_0x3033fc(0x26b),'ephemeral':!![]});const _0x50dd5e=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x2a6)]('name'),_0x4b40f4=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x1b6)](_0x3033fc(0x247)),_0xa3948f=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x2a6)](_0x3033fc(0x1b1)),_0x508b66=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x2a6)]('image'),_0x226a2b=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x2a6)](_0x3033fc(0x1d1)),_0x290a9d=_0x57e862[_0x3033fc(0x1ef)][_0x3033fc(0x2a6)](_0x3033fc(0x1d6));try{const _0x2cc6f0=db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20products\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20(name,\x20price,\x20description,\x20image_url,\x20delivery_type,\x20delivery_content)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20')[_0x3033fc(0x239)](_0x50dd5e,_0x4b40f4,_0xa3948f,_0x508b66,_0x226a2b,_0x290a9d);if(_0x226a2b===_0x3033fc(0x223)){const _0x1ef5de=0xa,_0x4ffe21=db['prepare'](_0x3033fc(0x257));for(let _0x4fb101=0x0;_0x4fb101<_0x1ef5de;_0x4fb101++){const _0x4b9796=generateProductKey(_0x290a9d);_0x4ffe21[_0x3033fc(0x239)](_0x4b9796,_0x2cc6f0['lastInsertRowid']);}}const _0x288921=new EmbedBuilder()[_0x3033fc(0x2de)](_0x3033fc(0x26d))[_0x3033fc(0x2c3)]({'name':'Name','value':_0x50dd5e,'inline':!![]},{'name':'Preis','value':_0x4b40f4+_0x3033fc(0x1c8),'inline':!![]},{'name':_0x3033fc(0x1ff),'value':_0x226a2b,'inline':!![]},{'name':'ID','value':'#'+_0x2cc6f0['lastInsertRowid'],'inline':!![]})[_0x3033fc(0x198)](_0x508b66)['setColor'](config[_0x3033fc(0x1ae)][_0x3033fc(0x23c)]);await _0x57e862[_0x3033fc(0x1d3)]({'embeds':[_0x288921],'ephemeral':!![]});}catch(_0x1c82c0){console[_0x3033fc(0x28c)](_0x3033fc(0x31c),_0x1c82c0),await _0x57e862[_0x3033fc(0x1d3)]({'content':_0x3033fc(0x2e3),'ephemeral':!![]});}}}),client['on']('interactionCreate',async _0x4f5c3d=>{const _0xc8ff98=_0x17b261;if(_0x4f5c3d[_0xc8ff98(0x269)]===_0xc8ff98(0x20c)){if(!_0x4f5c3d['memberPermissions'][_0xc8ff98(0x2e5)](_0xc8ff98(0x1ed)))return _0x4f5c3d[_0xc8ff98(0x1d3)]({'content':_0xc8ff98(0x309),'ephemeral':!![]});const _0x4e597e=_0x4f5c3d[_0xc8ff98(0x1ef)][_0xc8ff98(0x1b6)](_0xc8ff98(0x1c1)),_0x112378=_0x4f5c3d[_0xc8ff98(0x1ef)][_0xc8ff98(0x2a6)](_0xc8ff98(0x2a7))||_0xc8ff98(0x2f4),_0x2e53e3=_0x4f5c3d[_0xc8ff98(0x1ef)][_0xc8ff98(0x1b6)](_0xc8ff98(0x1b8)),_0xa468ab=_0x4f5c3d['options'][_0xc8ff98(0x1b6)](_0xc8ff98(0x218)),_0x58945b=generateCouponCode(),_0x3f91fe=new Date(Date['now']()+_0x2e53e3*0x36ee80);db[_0xc8ff98(0x288)](_0xc8ff98(0x28a))[_0xc8ff98(0x239)](_0x58945b,_0x4e597e,_0x112378,_0x3f91fe['toISOString'](),_0xa468ab);const _0x3942b9=new EmbedBuilder()['setTitle'](_0xc8ff98(0x322))[_0xc8ff98(0x2c3)]({'name':_0xc8ff98(0x2a5),'value':'`'+_0x58945b+'`'},{'name':_0xc8ff98(0x30e),'value':_0x4e597e+'%','inline':!![]},{'name':_0xc8ff98(0x1c3),'value':_0x112378===_0xc8ff98(0x2f4)?'Alle\x20Produkte':_0x112378,'inline':!![]},{'name':'L√§uft\x20ab','value':_0xc8ff98(0x273)+Math[_0xc8ff98(0x1f4)](_0x3f91fe['getTime']()/0x3e8)+_0xc8ff98(0x299),'inline':!![]});await _0x4f5c3d[_0xc8ff98(0x1d3)]({'embeds':[_0x3942b9],'ephemeral':!![]});}}),client['on'](_0x17b261(0x1aa),async _0x4bfddc=>{const _0x6d6c54=_0x17b261;if(_0x4bfddc['commandName']===_0x6d6c54(0x1e0)){const _0x1c1d57=_0x4bfddc[_0x6d6c54(0x1ef)][_0x6d6c54(0x1b6)]('product_id'),_0x5d3320=_0x4bfddc[_0x6d6c54(0x1ef)][_0x6d6c54(0x1b6)]('rating'),_0x3912d8=_0x4bfddc[_0x6d6c54(0x1ef)][_0x6d6c54(0x2a6)](_0x6d6c54(0x2f3)),_0x2ccdf2=db[_0x6d6c54(0x288)](_0x6d6c54(0x2b3))[_0x6d6c54(0x1da)](_0x1c1d57,_0x4bfddc[_0x6d6c54(0x280)]['id']);if(!_0x2ccdf2)return _0x4bfddc[_0x6d6c54(0x1d3)]({'content':_0x6d6c54(0x1f9),'ephemeral':!![]});db[_0x6d6c54(0x288)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20product_ratings\x20(user_id,\x20product_id,\x20rating,\x20review)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(user_id,\x20product_id)\x20\x0a\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20rating\x20=\x20excluded.rating,\x20review\x20=\x20excluded.review\x0a\x20\x20\x20\x20')[_0x6d6c54(0x239)](_0x4bfddc[_0x6d6c54(0x280)]['id'],_0x1c1d57,_0x5d3320,_0x3912d8),await _0x4bfddc[_0x6d6c54(0x1d3)]({'content':'‚úÖ\x20Bewertung\x20gespeichert!','ephemeral':!![]});}}),client['on'](_0x17b261(0x1aa),async _0xa922e7=>{const _0x1d0cb9=_0x17b261;if(_0xa922e7[_0x1d0cb9(0x269)]===_0x1d0cb9(0x276)){const _0x5a3a23=_0xa922e7[_0x1d0cb9(0x1ef)][_0x1d0cb9(0x289)](_0x1d0cb9(0x280))||_0xa922e7[_0x1d0cb9(0x280)],_0xe26568=db['prepare'](_0x1d0cb9(0x264))[_0x1d0cb9(0x1da)](_0x5a3a23['id'])?.[_0x1d0cb9(0x241)]||0x0,_0x20ac53=new EmbedBuilder()[_0x1d0cb9(0x2de)](_0x1d0cb9(0x2fa)+_0x5a3a23[_0x1d0cb9(0x323)])[_0x1d0cb9(0x1dd)](_0xe26568+'\x20Coins')['setColor'](config[_0x1d0cb9(0x1ae)][_0x1d0cb9(0x23c)])['setThumbnail'](_0x5a3a23[_0x1d0cb9(0x20e)]());await _0xa922e7[_0x1d0cb9(0x1d3)]({'embeds':[_0x20ac53]});}});const activeGiveaways=new Map();client['on'](_0x17b261(0x1aa),async _0x422bc9=>{const _0x14ddb8=_0x17b261;if(_0x422bc9[_0x14ddb8(0x269)]===_0x14ddb8(0x1af)){if(!_0x422bc9[_0x14ddb8(0x250)][_0x14ddb8(0x2e5)](_0x14ddb8(0x1ed)))return _0x422bc9[_0x14ddb8(0x1d3)]({'content':_0x14ddb8(0x26b),'ephemeral':!![]});const _0x4b4651=_0x422bc9[_0x14ddb8(0x1ef)][_0x14ddb8(0x1b6)]('duration'),_0x3800c4=_0x422bc9[_0x14ddb8(0x1ef)][_0x14ddb8(0x1b6)](_0x14ddb8(0x241)),_0x3e0469=_0x422bc9[_0x14ddb8(0x1ef)][_0x14ddb8(0x1b6)]('winners'),_0x21c798=crypto[_0x14ddb8(0x271)](0x8)['toString'](_0x14ddb8(0x274)),_0x4af22e=Date[_0x14ddb8(0x2c8)]()+_0x4b4651*0xea60,_0x3b86fc=new EmbedBuilder()[_0x14ddb8(0x2de)](_0x14ddb8(0x304))[_0x14ddb8(0x1dd)]('**Preis:**\x20'+_0x3800c4+'\x20Coins\x0a'+(_0x14ddb8(0x24a)+_0x3e0469+'\x0a')+(_0x14ddb8(0x2d7)+Math['floor'](_0x4af22e/0x3e8)+':R>'))['setColor'](config[_0x14ddb8(0x1ae)]['DEFAULT_COLOR']),_0xd7152b=new ButtonBuilder()[_0x14ddb8(0x24e)](_0x14ddb8(0x261)+_0x21c798)['setLabel'](_0x14ddb8(0x325))[_0x14ddb8(0x1c7)](ButtonStyle['Primary']),_0x2b26b6=new ActionRowBuilder()[_0x14ddb8(0x253)](_0xd7152b),_0x5d389f=client[_0x14ddb8(0x2ac)][_0x14ddb8(0x209)][_0x14ddb8(0x1da)](config[_0x14ddb8(0x2c7)][_0x14ddb8(0x200)]),_0x48e9f5=await _0x5d389f[_0x14ddb8(0x2a3)]({'embeds':[_0x3b86fc],'components':[_0x2b26b6]});activeGiveaways['set'](_0x21c798,{'endTime':_0x4af22e,'coins':_0x3800c4,'winners':_0x3e0469,'participants':[],'messageId':_0x48e9f5['id']}),setTimeout(async()=>{const _0x4dc835=_0x14ddb8,_0x54cf8e=activeGiveaways[_0x4dc835(0x1da)](_0x21c798);if(!_0x54cf8e)return;const _0x121de2=_0x54cf8e[_0x4dc835(0x21a)][_0x4dc835(0x229)](()=>Math[_0x4dc835(0x30a)]()-0.5)[_0x4dc835(0x240)](0x0,_0x54cf8e[_0x4dc835(0x286)]);_0x121de2['forEach'](_0xb02a1b=>{const _0x1ae699=_0x4dc835;db[_0x1ae699(0x288)](_0x1ae699(0x2d9))['run'](_0xb02a1b,_0xb02a1b,_0x54cf8e[_0x1ae699(0x241)]);});const _0x4b6cee=new EmbedBuilder()['setTitle'](_0x4dc835(0x204))[_0x4dc835(0x1dd)](_0x121de2['length']>0x0?_0x4dc835(0x2ba)+_0x121de2[_0x4dc835(0x2f1)](_0x2c9420=>'<@'+_0x2c9420+'>')[_0x4dc835(0x2ec)]('\x20')+_0x4dc835(0x1ba)+_0x54cf8e[_0x4dc835(0x241)]+_0x4dc835(0x1a6):'Keine\x20Teilnehmer\x20üò¢')['setColor'](_0x121de2[_0x4dc835(0x307)]>0x0?0xff00:0xff0000);await _0x422bc9[_0x4dc835(0x1a4)]({'embeds':[_0x4b6cee]}),activeGiveaways['delete'](_0x21c798);},_0x4b4651*0xea60);}}),client['on']('interactionCreate',async _0xfd992f=>{const _0x1a6c1e=_0x17b261;if(!_0xfd992f[_0x1a6c1e(0x251)]()||!_0xfd992f[_0x1a6c1e(0x293)][_0x1a6c1e(0x297)](_0x1a6c1e(0x261)))return;const _0x14b4c5=_0xfd992f[_0x1a6c1e(0x293)][_0x1a6c1e(0x29c)]('_')[0x1],_0x5f1540=activeGiveaways[_0x1a6c1e(0x1da)](_0x14b4c5);if(!_0x5f1540||Date['now']()>_0x5f1540[_0x1a6c1e(0x302)])return _0xfd992f[_0x1a6c1e(0x1d3)]({'content':_0x1a6c1e(0x2b4),'ephemeral':!![]});if(_0x5f1540[_0x1a6c1e(0x21a)]['includes'](_0xfd992f[_0x1a6c1e(0x280)]['id']))return _0xfd992f[_0x1a6c1e(0x1d3)]({'content':_0x1a6c1e(0x2c5),'ephemeral':!![]});_0x5f1540[_0x1a6c1e(0x21a)][_0x1a6c1e(0x312)](_0xfd992f[_0x1a6c1e(0x280)]['id']),await _0xfd992f[_0x1a6c1e(0x1d3)]({'content':'‚úÖ\x20Erfolgreich\x20teilgenommen!','ephemeral':!![]});}),client['on']('interactionCreate',async _0x277058=>{const _0xd42633=_0x17b261;if(_0x277058[_0xd42633(0x269)]==='wishlist'){const _0x918a5e=_0x277058[_0xd42633(0x1ef)][_0xd42633(0x1ca)]();switch(_0x918a5e){case _0xd42633(0x2a9):const _0x1f2d92=db[_0xd42633(0x288)](_0xd42633(0x197))[_0xd42633(0x2f4)](_0x277058[_0xd42633(0x280)]['id']),_0x313dfd=new EmbedBuilder()['setTitle'](_0xd42633(0x284))[_0xd42633(0x1dd)](_0x1f2d92[_0xd42633(0x2f1)](_0x2340a1=>'#'+_0x2340a1['id']+_0xd42633(0x2b5)+_0x2340a1[_0xd42633(0x1c6)])[_0xd42633(0x2ec)]('\x0a')||'Leer')[_0xd42633(0x2d5)](config['EMBEDS'][_0xd42633(0x23c)]);await _0x277058['reply']({'embeds':[_0x313dfd],'ephemeral':!![]});break;case _0xd42633(0x1a8):const _0x1b2607=_0x277058[_0xd42633(0x1ef)][_0xd42633(0x1b6)](_0xd42633(0x25d));db[_0xd42633(0x288)](_0xd42633(0x1c0))[_0xd42633(0x239)](_0x277058['user']['id'],_0x1b2607),await _0x277058[_0xd42633(0x1d3)]({'content':_0xd42633(0x2a4),'ephemeral':!![]});break;case _0xd42633(0x31a):const _0x3581e5=_0x277058[_0xd42633(0x1ef)][_0xd42633(0x1b6)](_0xd42633(0x25d));db[_0xd42633(0x288)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DELETE\x20FROM\x20wishlist\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20user_id\x20=\x20?\x20AND\x20product_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['run'](_0x277058[_0xd42633(0x280)]['id'],_0x3581e5),await _0x277058[_0xd42633(0x1d3)]({'content':_0xd42633(0x22c),'ephemeral':!![]});break;}}}),client[_0x17b261(0x21c)](config[_0x17b261(0x2df)]);